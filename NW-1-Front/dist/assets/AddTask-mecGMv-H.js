import{_ as h,u as k,a as w,b as x,c as _,r as y,o as S,d as n,e as c,f as e,w as d,v as u,g as B,F as T,h as N,i as p,j as A,k as I,t as M,p as V,l as $}from"./index-qv3pPW-M.js";const l=r=>(V("data-v-e8c53f50"),r=r(),$(),r),q={class:"fixed inset-0 bg-gray-900 bg-opacity-70 flex justify-center items-center text-white z-50"},C={class:"bg-[#222222] p-6 rounded-md w-4/5 max-w-5xl border-4 border-[#37373D] shadow-lg scale-90"},D={class:"flex flex-col text-2xl"},U=l(()=>e("h2",{class:"text-[#BFF1FF] mb-2 bg-[#333333] p-2"},"Add New Task",-1)),j={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 w-full"},E=l(()=>e("label",{for:"title",class:"block pb-1"},"Title",-1)),L=l(()=>e("label",{for:"assignees",class:"block pb-1"},"Assignees",-1)),z=l(()=>e("option",{value:""},"Select Status",-1)),R=["value"],G={class:"col-span-2"},H=l(()=>e("label",{for:"description",class:"block pb-1"},"Description",-1)),J={class:"flex justify-end gap-4 mt-4"},K=["disabled"],O={__name:"AddTask",setup(r){const b=k(),a=w(),F=x().getStatuses(),g=_(),t=y({id:"",title:"",description:"",assignees:"",status:""}),f=async()=>{try{const i=await A("/nw1/api//v2/statuses");F.value=i}catch(i){console.error("Failed to fetch status:",i)}},v=async()=>{try{if(t.value.title.trim()===""){a.setNotificationMessage("Title cannot be empty"),a.setShowNotification(!0),a.setNotificationType("error");return}const i=await I("/nw1/api//v2/tasks",t.value);b.addTask(i),a.setNotificationMessage(`The task "${t.value.title}" is added successfully`),a.setShowNotification(!0),a.setNotificationType("success"),t.value={title:"",description:"",assignees:"",status:""},g.push({name:"TaskList"})}catch(i){console.error("Error saving task:",i),a.setNotificationMessage(`An error occurred adding the task "${t.value.title}`),a.setShowNotification(!0),a.setNotificationType("error")}},m=()=>t.value.title.trim()!=="";return S(()=>{f()}),(i,o)=>(n(),c("div",q,[e("div",C,[e("div",D,[U,e("form",j,[e("div",null,[E,d(e("textarea",{id:"title",maxlength:"100","onUpdate:modelValue":o[0]||(o[0]=s=>t.value.title=s),required:"",class:"p-3 mt-1 bg-gray-800 text-[#BFF1FF] focus:ring-[#BFF1FF] focus:border-[#BFF1FF] block w-full rounded-lg shadow-sm"},null,512),[[u,t.value.title]])]),e("div",null,[L,d(e("textarea",{id:"assignees",maxlength:"30","onUpdate:modelValue":o[1]||(o[1]=s=>t.value.assignees=s),required:"",class:"p-3 mt-1 bg-gray-800 text-[#BFF1FF] focus:ring-[#BFF1FF] focus:border-[#BFF1FF] block w-full rounded-lg shadow-sm"},null,512),[[u,t.value.assignees]])]),d(e("select",{id:"status","onUpdate:modelValue":o[2]||(o[2]=s=>t.value.status=s),required:"",class:"p-3 mt-1 bg-gray-800 text-[#BFF1FF] focus:ring-[#BFF1FF] focus:border-[#BFF1FF] block w-full rounded-lg shadow-sm"},[z,(n(!0),c(T,null,N(p(F),s=>(n(),c("option",{value:s,key:s.id},M(s.name),9,R))),128))],512),[[B,t.value.status]]),e("div",G,[H,d(e("textarea",{id:"description",maxlength:"500",rows:"5","onUpdate:modelValue":o[3]||(o[3]=s=>t.value.description=s),required:"",class:"p-3 mt-1 bg-gray-800 text-[#BFF1FF] focus:ring-[#BFF1FF] focus:border-[#BFF1FF] block w-full rounded-lg shadow-sm"},null,512),[[u,t.value.description]])])]),e("div",J,[e("button",{onClick:v,disabled:!m(),class:"itbkk-button-confirm bg-[#4CAF50] hover:bg-[#43A047] text-black py-2 px-4 rounded-lg shadow disabled:bg-gray-500 disabled:text-gray-300 disabled:cursor-not-allowed"},"Save",8,K),e("button",{onClick:o[4]||(o[4]=s=>p(g).push({name:"TaskList"})),class:"itbkk-button-cancel bg-[#F44336] hover:bg-[#E53935] text-white py-2 px-4 rounded-lg shadow"},"Cancel")])])])]))}},W=h(O,[["__scopeId","data-v-e8c53f50"]]);export{W as default};
