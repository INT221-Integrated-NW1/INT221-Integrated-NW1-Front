import{_ as y,a as x,b as w,m as _,c as k,r as c,o as S,q as N,d as I,e as C,f as t,i as $,w as p,v as m,G as j,s as B,x as L,j as M,y as T,p as V,l as A}from"./index-qv3pPW-M.js";const r=i=>(V("data-v-b459847e"),i=i(),A(),i),E={class:"itbkk-modal-status bg-gray-900 bg-opacity-70 overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full inset-0 max-h-full"},R={class:"relative p-4 w-full max-w-xl max-h-full"},z={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},D={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},F=r(()=>t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Add New Status ",-1)),q=r(()=>t("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[t("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),U=[q],G={class:"p-4 pb-0 md:p-5 md:pb-0"},O={class:"grid gap-4 mb-4 grid-cols-2"},W={class:"itbkk-status-name col-span-2"},H=r(()=>t("label",{for:"name",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Name",-1)),J={class:"itbkk-status-description col-span-2"},K=r(()=>t("label",{for:"description",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"}," Description",-1)),P={class:"flex justify-end gap-2 pb-2 mr-[20px]"},Q=["disabled"],X=r(()=>t("button",{class:"bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded w-24"}," Cancel ",-1)),Y={__name:"EditStatus",setup(i){const o=x(),g=w(),h=_(),n=k(),e=c({id:"",name:"",description:""}),l=c({id:"",name:"",description:""}),b=async a=>{try{const s=await M(`/nw1/api//v2/statuses/${a}`);e.value=s,l.value={...s}}catch(s){console.error(`Failed to fetch status with ID ${a}:`,s)}};S(()=>{const a=h.params.id;b(a)});const v=async()=>{try{e.value.status||(e.value.status="No Status");const a=await T(`/nw1/api//v2/statuses/${e.value.id}`,e.value);g.editStatus(a),o.setNotificationMessage(`The status "${e.value.name}" has been updated`),o.setNotificationType("success"),o.setShowNotification(!0),e.value={id:"",name:"",description:""},n.push({name:"StatusList"})}catch(a){o.setNotificationMessage(`An error occurred, the status "${e.value.name}" does not exist. `),o.setNotificationType("error"),o.setShowNotification(!0),console.error("Error saving status:",a),n.push({name:"StatusList"})}},u=()=>{var a,s;return e.value.name.trim()!==l.value.name.trim()||((a=e.value.description)==null?void 0:a.trim())!==((s=l.value.description)==null?void 0:s.trim())};return(a,s)=>{const f=N("RouterLink");return I(),C("div",E,[t("div",R,[t("div",z,[t("div",D,[F,t("button",{onClick:s[0]||(s[0]=d=>$(n).push({name:"StatusList"})),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-toggle":"crud-modal"},U)]),t("form",G,[t("div",O,[t("div",W,[H,p(t("input",{type:"text",id:"name","onUpdate:modelValue":s[1]||(s[1]=d=>e.value.name=d),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Type status name",required:""},null,512),[[m,e.value.name,void 0,{trim:!0}]])]),t("div",J,[K,p(t("textarea",{id:"description",rows:"4","onUpdate:modelValue":s[2]||(s[2]=d=>e.value.description=d),class:"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-600 dark:border-gray-500 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 resize-none",placeholder:"Write status description here"},null,512),[[m,e.value.description,void 0,{trim:!0}]])])])]),t("div",P,[t("button",{onClick:v,disabled:!u(),class:j([{"cursor-not-allowed opacity-50":!u()},"bg-[#4CAF50] hover:bg-[#43A047] text-white py-2 px-4 rounded-lg w-24 shadow"])}," Save ",10,Q),B(f,{to:{name:"StatusList"}},{default:L(()=>[X]),_:1})])])])])}}},tt=y(Y,[["__scopeId","data-v-b459847e"]]);export{tt as default};
